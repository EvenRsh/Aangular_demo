<!DOCTYPE html>
<html ng-app="serApp">

	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>

	<body ng-controller="indexCtrl">
	</body>
	<script src="js/angular.js"></script>
	<script>
		var app = angular.module('serApp', []);
		app.controller('indexCtrl', ['$scope', '$http', 'tool', 'fac', 'toolApp', 'pro', 'pi','name', function(s, h, t, fac, toolApp, pro, pi,name) {
			s.name = 'yao';
			console.log(t)
			console.log(t.num);
			//console.log(t.sub(7, 4))
			console.log(fac(7, 4));
			toolApp.version();
			console.log(pro)
			console.log(pi)
			console.log(name)
		}])
		app.service('tool', ['$http', '$filter', 'toolApp', function($http, $filter, toolApp) {
				return {
					add: function(a, b) {
						return $filter('currency')(a + b, '￥');
					},
					multi: function(a, b) {
						return a * b;
					},
					num: 2,
					sub: toolApp.sub
				}
			}])
			//service其实跟factory其实差不多，他们两个都可以返回对象，但是service支持里面定义构造函数，
		app.service('toolApp', function($window) {
			return {
				version: function() {
					var u = $window.navigator.userAgent;
					console.log(u);
					if(u.indexOf('Android') != -1) {
						alert("你就用安卓的")
					} else if(u.indexOf('iPhone') != -1) {
						alert("你就用苹果的")
					} else if(u.indexOf('Windows') != -1) {
						alert("你就用Nokia的")
					}
				}
			}
		})
		app.factory('fac', function() {
			return function(a, b) {
				return "fac:" + a + b
			}
		})
		app.config(function($provide) {
				$provide.provider('pro', function() {
					this.$get = function() {
						return {
							addd: function(a, b) {
								return a + b
							}
						}
					}
				})
			})
			//常量
		app.constant('pi', 3.14);
		app.value('name','yao')
		console.log(app)
	</script>

</html>